<!--
Name of File: travel/templates/result.html
Brief description of the file: display results for a form submission from a travel recommendation 
Inputs: None
Outputs: creates HTML for the result page
-->
{%load static%}
<!DOCTYPE html>
<html>
<head>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Form Submission Result</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <!-- Adds a margin -->
    <div style="margin:10px">
        <!-- loop through each result -->
        {% for result in results %}
            <!--Display results-->
            <div>
                <!--Display region name-->
                <h1 style="clear: both;">{{ result.region_name }}</h1>
                <!--Display chatgpt description of region-->
                <p style="clear: both;">{{ result.gpt_result }}</p>
                
                <!--loop through each image URL for this location-->
                {% for image_url in result.image_urls %}
                    <!--display one of the images for the current location-->
                    <img src="{{ image_url }}" alt="Location image" style="width: auto; height: auto; max-width: 400px; max-height: 400px; margin-left: 10px">
                {% endfor %}
                <br>
                <a style="margin-top: 5px; margin-bottom: 5px" href="/travel/recommend-attractions/?region={{ result.region_name }}" class="btn btn-primary" type="submit">Recommend Tourist Attractions for {{ result.region_name }}</a>
                <a href="/travel/recommend-restaurants/?region={{ result.region_name }}" class="btn btn-primary" type="submit">Recommend Restaurants for {{ result.region_name }}</a>
                <!-- Weather Forecast for a specific city and country -->
                <h2>Weather Forecast for {{ result.region_name }}</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Description</th>
                            <th>Temperature</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{ result.weather_data.dt_txt }}</td>
                            <td>{{ result.weather_data.weather.0.description }}</td>
                            <td>{{ result.weather_data.main.temp }}Â° F</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <br><br>
            <!-- Feedback form -->
        {% endfor %}
    </div>
</body>
</html>

